  <head>
    <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Pokemon Bible</title>

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

	 <!-- Bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> 

	 <!-- React -->
    <script src="https://fb.me/react-15.0.1.js"></script>
    <script src="https://fb.me/react-dom-15.0.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>

	 <!-- React Datatable-->
	<script src="https://npmcdn.com/react-data-components@1.0.1/dist/react-data-components.min.js"></script>

</head>
<body>

<H1>pokebible2 - React Framework + datatable component</H1>
<HR/>
     
    <div id='root'></div>

    <script type="text/babel">

console.log("POKEMON DISPLAY")
 
/*
var DataTable = ReactDataComponents.DataTable;

// Generate random data
var names = [ 'Carlos', 'Juan', 'Jesus', 'Alberto', 'John' ];
var cities = [ 'Chicago', 'Tampico', 'San Francisco', 'Mexico City', 'Boston', 'New York' ];
var addresses = [ '333 West Wacker Drive', '1931 Insurgentes Sur', '1 Lombard Street', '55 Av Hidalgo'];

var data = [];
for (var i = 0; i < 1000; i++) {
  data.push({
    id: i,
    name: names[~~(Math.random() * names.length)],
    city: cities[~~(Math.random() * cities.length)],
    address: addresses[~~(Math.random() * addresses.length)]
  });
}

var columns = [
  { title: 'Name', prop: 'name'  },
  { title: 'City', prop: 'city' },
  { title: 'Address', prop: 'address' }
];

ReactDOM.render((
    <DataTable
      className="container"
      keys="id"
      columns={columns}
      initialData={data}
      initialPageLength={5}
      initialSortBy={{ prop: 'city', order: 'descending' }}
      pageLengthOptions={[ 5, 20, 50 ]}
    />
  ), document.getElementById("root"));

*/

var DataTable = ReactDataComponents.DataTable;

var columns = [
  { title: 'Picture', prop: 'picture3'  },
  { title: 'Name', prop: 'name'  },
  { title: 'Type', prop: 'type' }
];

var data = [
  {name: 'Bulbizarre', type: 'Plante'},
  {name: 'Herbizarre', type: 'Plante'},
  {name: 'Florizarre', type: 'Plante'},
  {name: 'Salam√®che', type: 'Feu'}
];

var App = React.createClass({
 
  loadPokemonsFromServer: function () {
    var self = this;
    $.ajax({
      url: "http://localhost:8080/api/pokemons"
    }).then(function (data) {
      self.setState({pokemons: data._embedded.pokemons});
    });
  },
 
  getInitialState: function () {
    return {pokemons: []};
  },
 
  componentDidMount: function () {
    this.loadPokemonsFromServer();
  },
 
  render() {
	console.log("render data... "+this.state.pokemons);

	if (this.state.pokemons!="") {
	    return ( 
			<DataTable
      			className="container"
      			keys="name"
      			columns={columns}
      			initialData={this.state.pokemons}
      			initialPageLength={5}
      			initialSortBy={{ prop: 'name', order: 'descending' }}
      			pageLengthOptions={[ 2, 10, 50 ]}
			/>
    	);
	}

    return ( 
    	<div>Loading data...</div>
    );
  }
});

ReactDOM.render(<App />, document.getElementById('root') );

</script>  
  </body>
</html>